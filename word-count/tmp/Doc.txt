## Deploy in Kubernetes

```
helm repo add bakdata-common https://bakdata.github.io/streams-bootstrap/
helm repo update
helm upgrade --debug --install --values values-dataproducer.yaml  wc-data-producer bakdata-common/producer-app
helm upgrade --debug --install --values values-wordcounter.yaml  wc-word-counter bakdata-common/streams-app
```

## Install Redis DB

```
helm repo add redis-repo https://charts.bitnami.com/bitnami
helm upgrade --debug --install  --values values-redis.yaml wc-redis-db redis-repo/redis
```

## Kafka Connect

## Deploy

```
helm upgrade --debug --install --values values-kafka-connect.yaml wc-kafka-connect confluentinc/cp-helm-charts
```

## Add connector

```
sh ./configure-connector.sh
```

## Test Pipeline

```
# 1 install  kafka environment
sh setup_env.sh
# 2- use redpanda and create those topics: 
    # "word-count-countedwords-topic" 
    # "word-count-raw-data-producer-topic"

# 3- port forward kafka connect

# 4- deploy the apps and the connector
sh deploy-pipeline.sh

# 5- enter redis dbs  and open the redis cli: redis-cli -h wc-redis-db-master
    # keys *
```
